{% extends "layout.html" %}
{% block content %}
<div class="container">
    <form method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="message">Enter subject</label>
            <input class="form-control" type="text" id="subject" name="subject" value = {{ subject }}>
        </div>
        <div class="form-group">
            <label for="message">Enter message</label>
            <textarea class="form-control" id="message" name="message" rows="3">{{ message }}</textarea>
        </div>
        <div class="form-group">
            <img src={{ img_link }} style="width:200px; height:200px">
            <input name="img_link" type="hidden" value={{ img_link }}>
            <label for="msg_img">Upload new picture</label>
            <input type="file" name="msg_img" id="msg_img" onchange="loadFile(event)">
            <img id="output" width="200">
        </div>
        <input id="route_to_forum" name="route_to_forum" value="true" type="hidden">
        <input name="datetime" type="hidden" value='{{ datetime }}'>
        <input name="post_id" type="hidden" value='{{ post_id }}'>
        <button type="submit" class="btn btn-primary">Update</button>
    </form>
</div>

<script>
    let loadFile = function(event) {
	let image = document.getElementById('output');
	image.src = URL.createObjectURL(event.target.files[0]);
};
</script>
{% endblock %}